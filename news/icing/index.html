<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>The iching Python Package is alive now! | </title> <meta name="author" content=" "> <meta name="description" content="Know Thyself. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://socratesclub.github.io/news/icing/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"></a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publication</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/%E4%B8%AD%E6%96%87/">王成军</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">The iching Python Package is alive now!</h1> <p class="post-meta">October 7, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="i-ching-python-project">I Ching Python project</h1> <p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/I_Ching_Song_Dynasty_print.jpg/440px-I_Ching_Song_Dynasty_print.jpg" alt=""></p> <p>iching is a packge developed by Cheng-Jun Wang. It employs the method of Shicao prediction to reproduce the prediction of I Ching–the Book of Exchanges. The I Ching ([î tɕíŋ]; Chinese: 易經; pinyin: Yìjīng), also known as the Classic of Changes or Book of Changes in English, is an ancient divination text and the oldest of the Chinese classics.</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Yarrow_stalks_for_I_Ching.JPG/440px-Yarrow_stalks_for_I_Ching.JPG" alt=""></p> <p>The Zhou yi provided a guide to cleromancy that used the stalks of the yarrow plant, but it is not known how the yarrow stalks became numbers, or how specific lines were chosen from the line readings. In the hexagrams, broken lines were used as shorthand for the numbers 6 (六) and 8 (八), and solid lines were shorthand for values of 7 (七) and 9 (九). The Great Commentary contains a late classic description of a process where various numerological operations are performed on a bundle of 50 stalks, leaving remainders of 6 to 9.</p> <p>大衍之数五十，其用四十有九。分而为二以象两，挂一以象三，揲之以四以象四时，归奇于扐以象闰。五岁再闰，故再扐而后挂。天一，地二；天三，地四；天五，地六；天七，地八；天九，地十。天数五，地数五。五位相得而各有合，天数二十有五，地数三十，凡天地之数五十有五，此所以成变化而行鬼神也。乾之策二百一十有六，坤之策百四十有四，凡三百六十，当期之日。二篇之策，万有一千五百二十，当万物之数也。是故四营而成《易》，十有八变而成卦，八卦而小成。引而伸之，触类而长之，天下之能事毕矣。显道神德行，是故可与酬酢，可与祐神矣。子曰：“知变化之道者，其知神之所为乎。”</p> <h1 id="install">Install</h1> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">iching</span>
</code></pre></div></div> <h1 id="a-quick-tutorial">A Quick Tutorial</h1> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">iching</span> <span class="kn">import</span> <span class="n">iching</span>

<span class="k">def</span> <span class="nf">ichingbook</span><span class="p">(</span><span class="n">birthday</span><span class="p">):</span>
    <span class="n">iching</span><span class="p">.</span><span class="nf">ichingDate</span><span class="p">(</span><span class="n">birthday</span><span class="p">)</span>
    <span class="n">fixPred</span><span class="p">,</span> <span class="n">changePred</span>   <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">getPredict</span><span class="p">()</span>
    <span class="c1"># iching.plotTransition(6, w = 15)
</span>    <span class="n">guaNames</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">ichingName</span><span class="p">(</span><span class="n">fixPred</span><span class="p">,</span> <span class="n">changePred</span><span class="p">)</span> 
    <span class="n">fixText</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">ichingText</span><span class="p">(</span><span class="n">fixPred</span><span class="p">,</span> <span class="n">iching</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">changePred</span><span class="p">:</span>
        <span class="n">changeText</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">ichingText</span><span class="p">(</span><span class="n">changePred</span><span class="p">,</span> <span class="n">iching</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">changeText</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">sepline1</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">                    __/\__         </span><span class="sh">'</span>
    <span class="n">sepline2</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">                  __|BOOK|__       </span><span class="sh">'</span>
    <span class="n">sepline3</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">               ___/_ICHING_\___    </span><span class="sh">'</span>
    <span class="n">sepline4</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">                 |-||||||||-|      </span><span class="sh">'</span>
    <span class="n">sepline5</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">  _/\___/\___/\__|-|/\/\/\|-|__/\___/\___/\_</span><span class="sh">'</span>
    <span class="n">sepline6</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="s">   ||___||___||__|-||||||||-|__||___||___|| </span><span class="sh">'</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">guaNames</span><span class="o">+</span><span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="o">+</span><span class="sa">u</span><span class="sh">'</span><span class="s">本卦: </span><span class="sh">'</span><span class="o">+</span><span class="n">fixText</span><span class="o">+</span><span class="n">sepline1</span><span class="o">+</span><span class="n">sepline2</span><span class="o">+</span><span class="n">sepline3</span><span class="o">+</span><span class="n">sepline4</span><span class="o">+</span><span class="n">sepline5</span><span class="o">+</span><span class="n">sepline6</span><span class="o">+</span><span class="sh">'</span><span class="se">\n\n\n</span><span class="sh">'</span><span class="o">+</span><span class="sa">u</span><span class="sh">'</span><span class="s">变卦: </span><span class="sh">'</span><span class="o">+</span><span class="n">changeText</span><span class="p">)</span>

<span class="nf">ichingbook</span><span class="p">(</span><span class="mi">1985092720180119</span><span class="p">)</span>
</code></pre></div></div> <h1 id="use">Use</h1> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">iching</span> <span class="kn">import</span> <span class="n">iching</span>
</code></pre></div></div> <h5 id="0-set-iching-time">0. Set iching time</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iching</span><span class="p">.</span><span class="nf">ichingDate</span><span class="p">(</span><span class="mi">1985052620150704</span><span class="p">)</span> 
<span class="c1"># e.g., 19850526 is your birthday and 20150704 is the prediction time.
# of course, your can also input more precise time.
</span></code></pre></div></div> <h5 id="1-start-to-predict">1. Start to predict</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iching</span><span class="p">.</span><span class="nf">getPredict</span><span class="p">()</span>
</code></pre></div></div> <h5 id="2-get-the-iching-name">2. Get the iching name</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixPred</span><span class="p">,</span> <span class="n">changePred</span>   <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">getPredict</span><span class="p">()</span>
<span class="n">iching</span><span class="p">.</span><span class="nf">ichingName</span><span class="p">(</span><span class="n">fixPred</span><span class="p">,</span> <span class="n">changePred</span>  <span class="p">)</span>
</code></pre></div></div> <h5 id="3-get-the-iching-text">3. Get the iching text</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iching</span><span class="p">.</span><span class="nf">ichingText</span><span class="p">(</span><span class="n">fixPred</span><span class="p">)</span>
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>坎卦原文坎。习坎，有孚，维心亨，行有尚。象曰：水洊至，习坎。君子以常德行，习教事。白话文解释习坎卦：抓获俘虏，劝慰安抚他们，通泰。途中将得到帮助。《象辞》说：坎为永，水长流不滞，是坎卦的卦象。君子观此卦象，从而尊尚德行，取法于细水长流之象，学习教化人民的方法。

《断易天机》解坎卦坎上坎下，为坎宫本位卦。坎为陷入、陷阱，为险难之境。此时应坚持信心，才能豁然贯通。

北宋易学家邵雍解艰难危险，重险重陷；事多困阻，谨慎行事。得此卦者，运气不佳，多难危险，事多困阻，宜谨言慎行，退守保安。
</code></pre></div></div> <h5 id="4-understand-three-changes">4. Understand Three Changes</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="mi">50</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">sky</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="n">firstChange</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">getChange</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="k">print</span> <span class="n">sky</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span><span class="n">firstChange</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">data</span>

<span class="n">sky</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="n">secondChange</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">getChange</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="k">print</span> <span class="n">sky</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span><span class="n">secondChange</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">data</span>

<span class="n">sky</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="n">thirdChange</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">iching</span><span class="p">.</span><span class="nf">getChange</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="k">print</span> <span class="n">sky</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">earth</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span><span class="n">thirdChange</span><span class="p">,</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">,</span> <span class="n">data</span>
</code></pre></div></div> <h5 id="5-plot-transitions">5. Plot transitions</h5> <pre><code class="language-pytnon">%matplotlib inline
import matplotlib.pyplot as plt

fig = plt.figure(figsize=(15, 10),facecolor='white')
plt.subplot(2, 2, 1)
iching.plotTransitionRemainder(1000, w = 50)
plt.subplot(2, 2, 2)
iching.plotTransitionRemainder(1000, w = 50)
plt.subplot(2, 2, 3)
iching.plotTransitionRemainder(1000, w = 50)
plt.subplot(2, 2, 4)
iching.plotTransitionRemainder(1000, w = 50)
</code></pre> <p><img src="http://7lrzgn.com1.z0.glb.clouddn.com/download.png" alt=""></p> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>